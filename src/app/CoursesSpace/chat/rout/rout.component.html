
<section class="bd-error-area">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-xl-12 col-lg-12">
        <div class="bd-error text-center">

          <h2 class="mb-20" style="color: black;font-size: 150px" >Chat Room  </h2>


          <div class="container py-5 px-4">
            <!-- For demo purpose-->
            <div class="row rounded-lg overflow-hidden shadow">
              <!-- Users box-->
              <div class="col-5 px-0">
                <div class="bg-white">

                  <div class="bg-gray px-4 py-2 bg-light">
                    <p class="h5 mb-0 py-1">Recent</p>
                  </div>

                  <div class="messages-box" style="height: 520px">
                    <div class="list-group-item-dark rounded-pill" *ngFor="let user of userList" style="height: 60px">


                      <a class="list-group-item-dark active list-group-item-action text-white rounded-pill"  >
                        <div class="media"  ><img [src]="user.split(',')[1]" alt="user"   width="40" class="rounded-circle">
                          <div class="media-body ml-4">
                            <div >
                              <h6 class="user-name">{{user.split(',')[0]}}</h6>
                              <p class="small text-muted">{{heurs.getHours().toString().toUpperCase()+":"+ heurs.getMinutes() .toString().toUpperCase() }} PM | {{daysa.getDate().toString().toUpperCase() +" "+daysa.getMonth().toString().toUpperCase() +" "+daysa.getFullYear().toString().toUpperCase() }}</p>

                            </div>

                          </div>
                        </div>
                      </a>


                    </div>
                  </div>
                </div>
              </div>
              <!-- Chat Box-->
              <div class="col-7 px-0">
                <div class="px-4 py-5 chat-box bg-white">
                  <!-- Sender Message-->


                  <!-- Reciever Message-->
                  <!--   <div class="media w-50 ml-auto mb-3" *ngFor="let message of publishedMessage" [class.pull-right] = "loggedinUserId === message.from">
                       <div class="media-body">
                         <div class="bg-primary rounded py-2 px-3 mb-2">
                           <P>{{message.fromUserName}}</P>
                           <p class="text-small mb-0 text-white">{{message.message}}</p>
                         </div>
                         <p class="small text-muted">12:00 PM | Aug 13</p>
                       </div>
                     </div>-->

                  <!-- Sender Message-->

                  <div  *ngFor="let msg of messageList">
                    <div *ngIf="currentUser.lastName === msg.userName.split(',')[0]">
                      <div class="pull-left w-75" >
                        <img [src]="msg.image" alt="user" width="50" class="rounded-circle">
                        <div class="media-body ml-3">
                          <div class="bg-light rounded py-2 px-3 mb-2" >
                            <P>{{ msg.userName.split(',')[0] }} </P>
                            <p class="text-small mb-0 text-muted" style="color: #0dcaf0">{{ msg.message }}</p>
                          </div>
                          <p class="small text-muted">{{heurs.getHours().toString().toUpperCase()+":"+ heurs.getMinutes() .toString().toUpperCase() }} PM | {{daysa.getDate().toString().toUpperCase() +" "+daysa.getMonth().toString().toUpperCase() +" "+daysa.getFullYear().toString().toUpperCase() }}</p>
                        </div>
                      </div>
                    </div>
                    <div *ngIf="currentUser.lastName !== msg.userName.split(',')[0]">
                      <div  class="pull-right w-75" >
                        <img [src]="msg.image" alt="user" width="50" class="rounded-circle">
                        <div class="media-body ml-3">
                          <div class="bg-light rounded py-2 px-3 mb-2" >
                            <P>{{ msg.userName.split(',')[0] }}</P>
                            <p class="text-small mb-0 text-muted" style="color: #0dcaf0">{{ msg.message }}</p>
                          </div>
                          <p class="small text-muted">{{heurs.getHours().toString().toUpperCase()+":"+ heurs.getMinutes() .toString().toUpperCase() }} PM | {{daysa.getDate().toString().toUpperCase() +" "+daysa.getMonth().toString().toUpperCase() +" "+daysa.getFullYear().toString().toUpperCase() }}</p>
                        </div>
                      </div>
                    </div>



                  </div>


                  <!-- Reciever Message-->


                </div>

                <!-- Typing area -->
                <form  class="bg-light" (ngSubmit)="sendMessage()">

                  <div class="input-group">

                    <input  placeholder="Type a message" aria-describedby="button-addon2"   type="text" name="message"
                            [(ngModel)]="message"  class="form-control rounded-0 border-0 py-4 bg-light">
                    <div class="input-group-append">
                      <button   class="btn btn-link" (click)="sendMessage()"> <i class="fa fa-paper-plane"></i></button>
                    </div>
                  </div>
                </form>

              </div>

            </div>
          </div>



          <div class="bd-error-btn text-center">
            <a href="index.html" class="theme-btn">Back To Home</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>


